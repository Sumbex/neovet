<!-- BOTON MENU INICIO -->
<div class="card but-card text-center" style="cursor: pointer;" data-toggle="modal"
data-target=".modal-historial-consultas" (click)="getConsultasInactivas()">
    <div class="card-body">
        <img src="assets/history.png"  width="70" height="70" alt="">
        <h4 class="card-text font-weight-bold">Historial de Consultas</h4>
        <p class="font-weight-bold">Pacientes atendidos anteriormente</p>
    </div>
</div>

<!-- MODAL PRINCIPAL -->
<div class="modal fade modal-historial-consultas" data-backdrop="static" tabindex="-1" role="dialog"
    aria-labelledby="myExtraLargeModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-xl modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title w-100 text-center font-weight-bold" id="staticBackdropLabel">Historial de Consultas</h3>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">

                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="anio">Seleccione el año</label>
                            <select name="anio" class="form-control">
                                <option value="">2020</option>
                                <option value="">2020</option>
                                <option value="">2020</option>
                                <option value="">2020</option>
                                <option value="">2020</option>
                                <option value="">2020</option>
                                <option value="">2020</option>
                                <option value="">2020</option>
                                <option value="">2020</option>
                                <option value="">2020</option>
                                <option value="">2020</option>
                                <option value="">2020</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="mes">Seleccione el mes</label>
                            <select name="mes" id="" class="form-control">
                                <option value="">Enero</option>
                                <option value="">Febrero</option>
                                <option value="">Marzo</option>
                                <option value="">Abril</option>
                                <option value="">Mayo</option>
                                <option value="">Junio</option>
                                <option value="">Julio</option>
                                <option value="">Agosto</option>
                                <option value="">Septiembre</option>
                                <option value="">Octubre</option>
                                <option value="">Noviembre</option>
                                <option value="">Diciembre</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="mt-4">
                    <div class="table-responsive">
                        <table class="table table-sm table-hover">
                            <thead>
                                <tr class="text-center">
                                    <th scope="col">Paciente</th>
                                    <th scope="col">Tipo Mascota</th>
                                    <th scope="col">Fecha Atención</th>
                                    <th scope="col">Dueño</th>
                                    <th scope="col" class="text-center">Acciones</th>
                                </tr>
                            </thead>
                            <tbody class="text-center font-weight-bold">
                                <tr *ngFor="let itemConsultasInactivas of consultasInactivas">
                                    <td>{{itemConsultasInactivas?.nombreMascota}}</td>
                                    <td>{{itemConsultasInactivas?.tipoMascota}}</td>
                                    <td>{{itemConsultasInactivas?.fecha_consulta}}</td>
                                    <td>{{itemConsultasInactivas?.nombreDuenio}}</td>
                                    <td class="text-center"><button class="btn btn-sm btn-success m-1"
                                            data-toggle="modal" data-target=".modal-datos-mascotas-historial" (click)="getMascotaPorId(itemConsultasInactivas?.idMascota)">Ver Datos
                                            Mascota</button> <button class="btn btn-sm btn-secondary m-1"
                                            data-toggle="modal" data-target=".modal-datos-consulta-historial" (click)="getMotivoConsulta(itemConsultasInactivas?.motivo)">Ver
                                            Consulta</button><button class="btn btn-sm btn-warning m-1"
                                            data-toggle="modal" data-target=".modal-procedimiento-consulta-historial" (click)="getProcedimientoConsulta(itemConsultasInactivas?.procedimiento)">Ver
                                            Procedimiento</button></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="modal-footer" *ngIf="step > 0">
                <button type="button" class="btn btn-secondary" (click)="controlSteps(2)"><i><img
                            src="assets/arrow-back.png" width="20" height="20" alt=""></i> Regresar</button>
                <button type="button" class="btn btn-primary" (click)="controlSteps(1)"><span *ngIf="step!=1">Continuar
                    </span><span *ngIf="step==1">Generar </span><i><img src="assets/arrow-next.png" width="20"
                            height="20" alt=""></i></button>
            </div>
        </div>
    </div>
</div>

<!-- MODAL DE DATOS MASCOTA -->
<div class="modal fade modal-datos-mascotas-historial" data-backdrop="static" tabindex="-1" role="dialog"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title w-100 text-center font-weight-bold" id="staticBackdropLabel">Datos Mascota</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-md-4 my-auto">
                      <img class="img-mascot" src="https://www.aspca.org/sites/default/files/cat-care_general-cat-care_body1-left.jpg" alt="" height="200" width="200">
                    </div>
                    <div class="col-md-8">
                    <ul class="list-group">
                        <li class="list-group-item"><b>Nombre Mascota:</b> {{datosMascota?.nombre}}</li>
                        <li class="list-group-item"><b>Fecha Nacimiento:</b> {{datosMascota?.fecha_nacimiento}}</li>
                        <li class="list-group-item"><b>Tipo Mascota:</b> {{datosMascota?.tipoMascota}}</li>
                        <li class="list-group-item"><b>Sexo:</b> {{datosMascota?.sexo}}</li>
                        <li class="list-group-item"><b>Raza:</b> {{datosMascota?.raza}}</li>
                        <li class="list-group-item"><b>Color:</b> {{datosMascota?.color}}</li>
                        <li class="list-group-item"><b>¿Esterilizado?:</b> {{datosMascota?.estadoEsterilizacion}}</li>
                        <li class="list-group-item"><b>¿Tiene Chip?:</b> {{datosMascota?.estadoChip}}</li>
                    </ul>
                  </div>
                  </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary btn-block" data-dismiss="modal">Ok</button>
            </div>
        </div>
    </div>
</div>

<!-- MODAL VER CONSULTA -->
<div class="modal fade modal-datos-consulta-historial" data-backdrop="static" tabindex="-1" role="dialog"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title w-100 text-center font-weight-bold" id="staticBackdropLabel">Datos Consulta</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p class="font-weight-bold">{{motivoConsulta}}</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary btn-block" data-dismiss="modal">Ok</button>
            </div>
        </div>
    </div>
</div>

<!-- MODAL VER PROCEDIMIENTO -->
<div class="modal fade modal-procedimiento-consulta-historial" data-backdrop="static" tabindex="-1" role="dialog"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title w-100 text-center font-weight-bold" id="staticBackdropLabel">Procedimiento Realizado</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p class="font-weight-bold">{{procedimientoConsulta}}</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-primary btn-block" data-dismiss="modal">Ok</button>
            </div>
        </div>
    </div>
</div>